–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –î–µ–º–æ–Ω–∞—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —ç–∫–∑–∞–º–µ–Ω–∞ –ø–æ —Å–µ—Ç–µ–≤–æ–º—É –∏ c–∏—Å—Ç–µ–º–Ω–æ–º—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—é (Proxmox VE)

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–±–æ—Ä Bash-—Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ —Ä–∞–º–∫–∞—Ö –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —ç–∫–∑–∞–º–µ–Ω–∞.

–°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–∞ —Ö–æ—Å—Ç–µ Proxmox VE –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã —á–µ—Ä–µ–∑ QEMU Guest Agent.

üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —É–∑–ª–æ–≤:
–†–æ–ª—å	Hostname	–û–°	–û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–æ–≤–∞–π–¥–µ—Ä	ISP	Astra Linux	NAT, NTP, Nginx (Rev Proxy), Auth
–†–æ—É—Ç–µ—Ä HQ	HQ-RTR	Astra Linux	Routing, NAT, VLAN
–†–æ—É—Ç–µ—Ä BR	BR-RTR	Astra Linux	Routing, NAT
–°–µ—Ä–≤–µ—Ä HQ	HQ-SRV	Alt Linux	RAID0, NFS, LAMP (Apache+MySQL)
–ö–ª–∏–µ–Ω—Ç HQ	HQ-CLI	Alt Linux	Desktop, AD Member
–°–µ—Ä–≤–µ—Ä BR	BR-SRV	Alt Linux	Samba DC (AD), Ansible, Docker

üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–ì–ª–∞–≤–Ω–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ qm guest exec –¥–ª—è –æ–±—Ö–æ–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Å–µ—Ç–∏ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ.

–î–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤ (", $, >) –∏ –ø–∞–π–ø–æ–≤ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–∞–Ω–¥—ã qm, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ö–∞–Ω–∏–∑–º Base64-–∏–Ω—ä–µ–∫—Ü–∏–∏:

    –ö–æ–º–∞–Ω–¥–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –≤ —Å–∫—Ä–∏–ø—Ç–µ –Ω–∞ —Ö–æ—Å—Ç–µ.

    –ö–æ–¥–∏—Ä—É–µ—Ç—Å—è –≤ Base64.

    –ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä—å –í–ú, –≥–¥–µ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –∏ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è Bash-–µ–º.


üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

    Proxmox VE (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –Ω–∞ –≤–µ—Ä—Å–∏–∏ 9).

    –†–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ –í–ú —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –∏ –∑–∞–ø—É—â–µ–Ω–Ω—ã–º QEMU Guest Agent.

‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
code Bash

    
git clone https://github.com/arugva-lab/demo2026
cd repo-name

  

2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª env.sh –ø–æ–¥ –≤–∞—à—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Proxmox, –µ—Å–ª–∏ –æ–Ω–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π:

    VM ID (100, 101, ...).

    –ò–º–µ–Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (ens18, ens19...).

    –∏ –¥—Ä. (–≤–æ–∑–º–æ–∂–Ω–æ)

code Bash

    
nano env.sh

  

3. –ó–∞–ø—É—Å–∫ –º–æ–¥—É–ª–µ–π

–°–∫—Ä–∏–ø—Ç—ã –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:

–ú–æ–¥—É–ª—å 1 —á–∞—Å—Ç—å 1: –ë–∞–∑–æ–≤–∞—è —Å–µ—Ç—å –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ IP, VLAN, —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –±–∞–∑–æ–≤—ã–π NAT.
code Bash

    
./01_init.sh

  
–ú–æ–¥—É–ª—å 1 —á–∞—Å—Ç—å 2: ...


–ú–æ–¥—É–ª—å 2 —á–∞—Å—Ç—å 1: –°–µ—Ä–≤–∏—Å—ã –∏ —Å–ª—É–∂–±—ã
–ü–æ–¥–Ω—è—Ç–∏–µ Samba DC, RAID, NFS, Web-—Å–µ—Ä–≤–µ—Ä–æ–≤, Docker, Ansible –∏ –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤.
code Bash

    
./02_services.sh


–ú–æ–¥—É–ª—å 2 —á–∞—Å—Ç—å 2: ...



‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

    –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤–æ–∑–º–æ–∂–Ω—ã –æ—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ RAID —É–∂–µ —Å–æ–±—Ä–∞–Ω), –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—á–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–∫–ø—Ä–∏—Ç–∞ –º–æ–≥—É—Ç –ª–æ–º–∞—Ç—å—Å—è.
